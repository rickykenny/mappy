<div ng-show="vm.locationPending" class="fill flex col v-center h-center">
    <div ng-show="!vm.locationDenied">
        <h3>Awaiting location...</h3>
    </div>
    <div ng-show="vm.locationDenied">
        <h3>You denied location ya dumb dog!</h3>
    </div>
</div>


<div ng-if="!vm.locationPending" class="flex col fill">
    <div id="map-wrapper" class="fill">
        <ui-gmap-google-map id="map" center='vm.map.center' zoom='vm.map.zoom'>
            <ui-gmap-markers models="vm.markers" idKey='id' options="'options'" fit="true" coords="'location'"></ui-gmap-marker>
        </ui-gmap-google-map>
    </div>

    <div ng-show="vm.usersPending">Loading users...</div>
    <h3>Users in map: {{vm.markers.length}}</h3>
    <label ng-hide="true">
        <input type="checkbox" ng-model="fitAllUsers" value="true" />See everyone</label>
</div>


<style>
    ui-gmap-google-map {
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
    }

    .angular-google-map,
    .angular-google-map-container {
        height: 100%;
    }

    #map-wrapper {
        flex: 1;
        position: relative;
    }

    .my-user-marker {
        color: red;
    }

    .other-user-marker {
        color: blue;
    }
</style>